# ðŸ›¡ï¸ Redmine æ•æ„Ÿè³‡æ–™é˜²è­·æ’ä»¶

[![Redmine Version](https://img.shields.io/badge/Redmine-6.0.6-brightgreen.svg)](https://www.redmine.org/)
[![Ruby Version](https://img.shields.io/badge/Ruby-3.3.9-red.svg)](https://www.ruby-lang.org/)
[![Rails Version](https://img.shields.io/badge/Rails-7.2.2.1-blue.svg)](https://rubyonrails.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Version](https://img.shields.io/badge/Version-2.0.0-orange.svg)](https://github.com/bluer1211/redmine-sensitive-data-guard-plugin/releases)

> ðŸ›¡ï¸ **å¼·å¤§çš„ Redmine æ•æ„Ÿè³‡æ–™é˜²è­·å·¥å…·**  
> è‡ªå‹•åµæ¸¬ã€å³æ™‚é˜»æ“‹ã€æ“ä½œç¨½æ ¸ï¼Œä¿è­·æ‚¨çš„æ•æ„Ÿè³‡è¨Šå®‰å…¨

## ðŸ“‹ å¿«é€Ÿå°Žè¦½

- [ðŸŽ¯ ç³»çµ±éœ€æ±‚](#-ç³»çµ±éœ€æ±‚)
- [ðŸš€ å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹)
- [âš™ï¸ é…ç½®èªªæ˜Ž](#ï¸-é…ç½®èªªæ˜Ž)
- [ðŸ“Š ä½¿ç”¨çµ±è¨ˆ](#-ä½¿ç”¨çµ±è¨ˆ)
- [ðŸ”§ é–‹ç™¼è³‡è¨Š](#-é–‹ç™¼è³‡è¨Š)
- [ðŸ“š ç›¸é—œæ–‡æª”](#-ç›¸é—œæ–‡æª”)
- [ðŸ›¡ï¸ å®‰å…¨ç‰¹æ€§](#ï¸-å®‰å…¨ç‰¹æ€§)
- [ðŸ¤ æ”¯æ´èˆ‡è²¢ç»](#-æ”¯æ´èˆ‡è²¢ç»)

## ðŸ“‹ æ¦‚è¿°

Redmine æ•æ„Ÿè³‡æ–™é˜²è­·æ’ä»¶æ˜¯ä¸€å€‹å¼·å¤§çš„è³‡è¨Šå®‰å…¨å·¥å…·ï¼Œç”¨æ–¼é˜²æ­¢ä½¿ç”¨è€…åœ¨ Redmine ç³»çµ±ä¸­å„²å­˜ã€å‚³è¼¸æˆ–æ•£å¸ƒæ©Ÿæ•è³‡è¨Šã€‚æœ¬æ’ä»¶æä¾›è‡ªå‹•åµæ¸¬ã€å³æ™‚é˜»æ“‹ã€æ“ä½œç¨½æ ¸ç­‰åŠŸèƒ½ã€‚

### ðŸŒŸ æ ¸å¿ƒç‰¹è‰²

- ðŸ” **æ™ºèƒ½åµæ¸¬**ï¼šæ”¯æ´ 10+ ç¨®æ•æ„Ÿè³‡æ–™é¡žåž‹åµæ¸¬
- ðŸš« **å³æ™‚é˜»æ“‹**ï¼šé«˜é¢¨éšªå…§å®¹è‡ªå‹•é˜»æ“‹æäº¤
- ðŸ“„ **æ–‡ä»¶æŽƒæ**ï¼šæ”¯æ´ Office æ–‡ä»¶å…§å®¹æŽƒæ
- ðŸ“Š **å®Œæ•´ç¨½æ ¸**ï¼šè©³ç´°çš„æ“ä½œæ—¥èªŒè¨˜éŒ„
- âš™ï¸ **éˆæ´»é…ç½®**ï¼šå¯è‡ªè¨‚åµæ¸¬è¦å‰‡å’Œè™•ç†ç­–ç•¥

## ðŸŽ¯ ç³»çµ±éœ€æ±‚

### æ”¯æ´çš„ Redmine ç‰ˆæœ¬
- **Redmine 6.0.6** âœ… (ä¸»è¦æ”¯æ´ç‰ˆæœ¬)
- **Redmine 6.0.x** âœ… (ç›¸å®¹)
- **Redmine 5.x** âš ï¸ (éƒ¨åˆ†åŠŸèƒ½å¯èƒ½å—é™)
- **Redmine 4.x** âš ï¸ (ä¸å»ºè­°ä½¿ç”¨)

### ç³»çµ±ç’°å¢ƒéœ€æ±‚
- **Ruby ç‰ˆæœ¬**ï¼š3.0 æˆ–æ›´é«˜ç‰ˆæœ¬ (æŽ¨è–¦ 3.3.9)
- **Rails ç‰ˆæœ¬**ï¼š6.0 æˆ–æ›´é«˜ç‰ˆæœ¬ (æŽ¨è–¦ 7.2.2.1)
- **è³‡æ–™åº«**ï¼šMySQL 8.0+, PostgreSQL 12+, SQLite 3.35+
- **ç€è¦½å™¨**ï¼šChrome 90+, Firefox 88+, Safari 14+, Edge 90+

### å»ºè­°é…ç½®
- **è¨˜æ†¶é«”**ï¼šæœ€å°‘ 4GB RAM
- **å„²å­˜ç©ºé–“**ï¼šè‡³å°‘ 2GB å¯ç”¨ç©ºé–“
- **CPU**ï¼šå››æ ¸å¿ƒæˆ–æ›´é«˜
- **ç¶²è·¯**ï¼šç©©å®šçš„ç¶²è·¯é€£ç·š

## ðŸŽ¯ ä¸»è¦åŠŸèƒ½

### âœ… æ•æ„Ÿè³‡æ–™åµæ¸¬
- **èº«åˆ†è­‰è™Ÿç¢¼**ï¼šå°ç£èº«åˆ†è­‰è™Ÿæ ¼å¼åµæ¸¬
- **ä¿¡ç”¨å¡è™Ÿç¢¼**ï¼šä¿¡ç”¨å¡è™Ÿæ ¼å¼åµæ¸¬
- **API é‡‘é‘°**ï¼šAPI Keyã€Secretã€Token åµæ¸¬
- **å¸³è™Ÿå¯†ç¢¼**ï¼šä½¿ç”¨è€…å¸³è™Ÿå¯†ç¢¼çµ„åˆåµæ¸¬
- **æ‰‹æ©Ÿè™Ÿç¢¼**ï¼šå°ç£æ‰‹æ©Ÿè™Ÿç¢¼æ ¼å¼åµæ¸¬
- **Email åœ°å€**ï¼šEmail æ ¼å¼åµæ¸¬
- **IP ä½å€**ï¼šå…§éƒ¨å’Œå¤–éƒ¨ IP ä½å€åµæ¸¬

### âœ… Office æ–‡ä»¶æŽƒæ
- æ”¯æ´ `.docx`, `.xlsx`, `.pptx`, `.pdf` æª”æ¡ˆæ ¼å¼
- è‡ªå‹•æŽƒææª”æ¡ˆå…§å®¹ä¸­çš„æ•æ„Ÿè³‡è¨Š
- æª”æ¡ˆå¤§å°é™åˆ¶å’Œæ•ˆèƒ½å„ªåŒ–

### âœ… å³æ™‚é˜»æ“‹èˆ‡è­¦å‘Š
- é«˜é¢¨éšªå…§å®¹è‡ªå‹•é˜»æ“‹æäº¤
- ä¸­ä½Žé¢¨éšªå…§å®¹é¡¯ç¤ºè­¦å‘Šè¨Šæ¯
- æ”¯æ´è¦†è“‹æ¬Šé™æ©Ÿåˆ¶
- ç™½åå–®ä¾‹å¤–è™•ç†

### âœ… æ“ä½œç¨½æ ¸è¨˜éŒ„
- å®Œæ•´çš„æ“ä½œæ—¥èªŒè¨˜éŒ„
- åˆ†ç´šä¿ç•™ç­–ç•¥ï¼ˆé«˜é¢¨éšª7å¹´ã€ä¸€èˆ¬3å¹´ï¼‰
- è‡ªå‹•æ¸…ç†éŽæœŸæ—¥èªŒ
- çµ±è¨ˆå ±è¡¨å’ŒåŒ¯å‡ºåŠŸèƒ½ 

## ðŸš€ å¿«é€Ÿé–‹å§‹

### å®‰è£æ­¥é©Ÿ

1. **ä¸‹è¼‰æ’ä»¶**
   ```bash
   cd /path/to/redmine/plugins/
   git clone https://github.com/bluer1211/redmine-sensitive-data-guard-plugin.git redmine_sensitive_data_guard
   ```

2. **å®‰è£ä¾è³´**
   ```bash
   cd /path/to/redmine
   bundle install
   ```

3. **åŸ·è¡Œè³‡æ–™åº«é·ç§»**

   **ç”Ÿç”¢ç’°å¢ƒï¼š**
   ```bash
   bundle exec rake redmine:plugins:migrate RAILS_ENV=production
   ```

   **é–‹ç™¼ç’°å¢ƒï¼š**
   ```bash
   bundle exec rake redmine:plugins:migrate RAILS_ENV=development
   bundle exec rake redmine:plugins:seed RAILS_ENV=development
   ```

4. **é‡å•Ÿ Redmine**
   ```bash
   # å¦‚æžœä½¿ç”¨ Passenger
   touch tmp/restart.txt
   
   # å¦‚æžœä½¿ç”¨ Puma/Unicorn
   sudo systemctl restart redmine
   ```

5. **é…ç½®æ’ä»¶**
   - é€²å…¥ã€Œç®¡ç†ã€â†’ã€Œè¨­å®šã€â†’ã€Œæ’ä»¶ã€
   - æ‰¾åˆ°ã€ŒRedmine Sensitive Data Guard Pluginã€
   - é»žæ“Šã€Œé…ç½®ã€é€²è¡Œè¨­å®š

### é–‹ç™¼ç’°å¢ƒè¨­å®š

é–‹ç™¼ç’°å¢ƒæœƒè‡ªå‹•æ·»åŠ ä»¥ä¸‹å°ˆç”¨è¦å‰‡ï¼š

- **é–‹ç™¼ç’°å¢ƒæ¸¬è©¦è¦å‰‡**ï¼š`test|dev|development`
- **ç¯„ä¾‹è³‡æ–™è¦å‰‡**ï¼š`example|sample|demo`
- **é–‹ç™¼ç’°å¢ƒ IP**ï¼š`127.0.0.1|localhost`
- **é–‹ç™¼æ¸¬è©¦è³‡æ–™**ï¼š`dev|test|debug|localhost`
- **é–‹ç™¼ç”¨æˆ¶**ï¼š`developer|test|admin`

### é©—è­‰å®‰è£

1. **æª¢æŸ¥æ’ä»¶åˆ—è¡¨**ï¼šç®¡ç† â†’ è¨­å®š â†’ æ’ä»¶
2. **æª¢æŸ¥é¸å–®é …ç›®**ï¼šç®¡ç†é¸å–®ä¸­æ‡‰å‡ºç¾ã€Œæ•æ„Ÿè³‡æ–™é˜²è­·ã€
3. **æª¢æŸ¥æ¬Šé™**ï¼šç”¨æˆ¶ â†’ æ¬Šé™ä¸­æ‡‰æœ‰ç›¸é—œæ¬Šé™é¸é …

**é–‹ç™¼ç’°å¢ƒé©—è­‰ï¼š**
```bash
bundle exec rails console RAILS_ENV=development

# åœ¨ Rails console ä¸­åŸ·è¡Œ
> DetectionRule.count
> WhitelistRule.count
> SensitiveOperationLog.count
``` 